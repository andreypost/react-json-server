(this["webpackJsonpreact-json-server"]=this["webpackJsonpreact-json-server"]||[]).push([[0],{24:function(e,t,a){e.exports=a(37)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},37:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(19),l=a.n(s),o=a(21),c=a(1),u=(a(29),a(30),a(7)),i=a(8),m=a(10),d=a(9),h=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header flexcolcenter"},r.a.createElement("section",null,r.a.createElement("article",null,r.a.createElement("h1",null,"Users Interface"),r.a.createElement("h3",null,"Interface that allows to view a list of users, search a user by username, add a new user, edit an existing user, delete a user."))))}}]),a}(r.a.Component),f=a(20),p=a(23),E=(a(31),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).handleChangeState=function(e,t,a){n.setState({users:Object(p.a)(e),searchName:t,userId:a})},n.fetchRequest=function(e){fetch("https://my-json-server.typicode.com/andreypost/db/posts").then((function(e){return e.json()})).then((function(t){return e(t)}))},n.handleViewAll=function(){n.fetchRequest((function(e){n.editUserForm.username.value=n.editUserForm.email.value=n.editUserForm.address.value=n.registerUser.username.value=n.registerUser.email.value=n.registerUser.address.value="",n.handleChangeState(e,"","")}))},n.searchInput=function(){var e=function(e){var t,a=[],r=Object(f.a)(e);try{for(r.s();!(t=r.n()).done;){var s=t.value;s.username.toLowerCase()===n.state.searchName.toLowerCase()&&a.push(s)}}catch(l){r.e(l)}finally{r.f()}n.handleChangeState(a,n.state.searchName,"")};n.fetchRequest(e),n.timerId=setTimeout((function(){return n.fetchRequest(e)}),250)},n.handleSearchForm=function(e){n.setState({searchName:""}),clearInterval(n.timerId),e.preventDefault()},n.handleSubmitRegister=function(e){fetch("https://my-json-server.typicode.com/andreypost/db/posts",{method:"POST",body:JSON.stringify({username:e.target.username.value,email:e.target.email.value,address:{city:e.target.address.value,street:" ",suite:" "}}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).then((function(){return n.handleViewAll()})),e.preventDefault()},n.handleEditUser=function(e){n.editUserForm.username.value=e.username,n.editUserForm.email.value=e.email,n.editUserForm.address.value=e.address.city+" "+e.address.street+" "+e.address.suite,n.handleChangeState([],"",e.id)},n.handleSubmitChangeUserForm=function(e){n.state.userId?(fetch("https://my-json-server.typicode.com/andreypost/db/posts/".concat(n.state.userId),{method:"PUT",body:JSON.stringify({username:e.target.username.value,email:e.target.email.value,address:{city:e.target.address.value,street:" ",suite:" "}}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).then((function(){return n.handleViewAll()})),e.preventDefault()):e.preventDefault()},n.handleDeleteUser=function(e){fetch("https://my-json-server.typicode.com/andreypost/db/posts/".concat(e),{method:"DELETE"}).then((function(){return n.handleViewAll()}))},n.state={users:[],searchName:"",userId:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.editUserForm=document.getElementById("editUserForm"),this.registerUser=document.getElementById("registerUser")}},{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"app"},r.a.createElement("div",{className:"colalignstart"},r.a.createElement("button",{className:"app__view",onClick:this.handleViewAll},"VIEW ALL USERS"),r.a.createElement("form",{id:"searchByUserName",onSubmit:this.handleSearchForm,className:"flexjustbet wrap"},r.a.createElement("button",{form:"searchByUserName"},"SEARCH USER BY NAME"),r.a.createElement("input",{type:"search",name:"search",onInput:this.searchInput,onChange:function(t){return e.handleChangeState([],t.target.value)},required:"username",value:this.state.searchName,autoComplete:"off",placeholder:"enter username"})),r.a.createElement("form",{id:"registerUser",onSubmit:this.handleSubmitRegister,className:"flexjustcenter wrap"},r.a.createElement("button",{form:"registerUser"},"REGISTER"),r.a.createElement("input",{type:"text",name:"username",required:"username",placeholder:"username",autoComplete:"off"}),r.a.createElement("input",{type:"email",name:"email",required:"email",placeholder:"email",autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"address",placeholder:"address",autoComplete:"off"})),r.a.createElement("form",{id:"editUserForm",onSubmit:this.handleSubmitChangeUserForm,className:"flexjustcenter wrap"},r.a.createElement("button",{form:"editUserForm",type:"submit"},"EDIT"),r.a.createElement("input",{type:"text",name:"username",autoComplete:"off"}),r.a.createElement("input",{type:"email",name:"email",autoComplete:"off"}),r.a.createElement("input",{type:"text",name:"address",autoComplete:"off"}),r.a.createElement("i",{onClick:this.handleViewAll,className:"app__cancel pointer"},"CANCEL"))),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"USERNAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"ADDRESS: city, street, suite"),r.a.createElement("th",null,"EDIT"),r.a.createElement("th",null,"DELETE"))),r.a.createElement("tbody",null,this.state.users.map((function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.username),r.a.createElement("td",null,t.email),r.a.createElement("td",null,t.address.city," ",t.address.street," ",t.address.suite),r.a.createElement("td",{onClick:function(){return e.handleEditUser(t)}},"edit"),r.a.createElement("td",{onClick:function(){return e.handleDeleteUser(t.id)}},"delete"))})))))}}]),a}(r.a.Component)),v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",null)}}]),a}(r.a.Component),y=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(h,null),r.a.createElement("main",null,r.a.createElement(E,null)),r.a.createElement(v,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(o.a,{basename:"/"},r.a.createElement(c.a,{exact:!0,path:"/",component:y})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.61e9fed4.chunk.js.map